(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Tg0j:function(e,t,o){"use strict";o.r(t),o.d(t,"BooksCenterModule",(function(){return z}));var s=o("1kSV"),r=o("ofXK"),i=o("tyNb"),n=o("eIep"),c=o("fXoL"),a=o("2Vo4"),b=o("lJxs");const l=[{id:1,name:"Kids",icon:"./assets/img/categories/boy.svg"},{id:2,name:"Science",icon:"./assets/img/categories/atom.svg"},{id:3,name:"Art",icon:"./assets/img/categories/paint-palette.svg"},{id:4,name:"Education",icon:"./assets/img/categories/global-education.svg"},{id:5,name:"Romance",icon:"./assets/img/categories/rose.svg"},{id:6,name:"Life",icon:"./assets/img/categories/tree-of-life.svg"},{id:7,name:"Fiction",icon:"./assets/img/categories/ufo.svg"},{id:8,name:"History",icon:"./assets/img/categories/history.svg"},{id:9,name:"Fantasy",icon:"./assets/img/categories/fantasy.svg"},{id:10,name:"Philosophie",icon:"./assets/img/categories/yin-yang.svg"}];let d=(()=>{class e{constructor(){this.bookcategories$=new a.a(l)}getCategories(){return this.bookcategories$}getBooksCategory(e){return this.getCategories().pipe(Object(b.a)(t=>t.find(t=>t.id===+e)))}}return e.nextCrisisId=100,e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const g=function(e){return["./categroy",e]};function p(e,t){if(1&e&&(c.Pb(0,"li",15),c.Pb(1,"div",9),c.Lb(2,"img",16),c.Pb(3,"a",17),c.Pb(4,"button",18),c.Cc(5),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e){const e=t.$implicit;c.xb(2),c.kc("src",e.icon,c.uc),c.xb(1),c.jc("routerLink",c.nc(3,g,e.id)),c.xb(2),c.Dc(e.name)}}let u=(()=>{class e{constructor(e,t){this.service=e,this.route=t}ngOnInit(){document.getElementById("books-center").scrollIntoView(),this.categories$=this.route.paramMap.pipe(Object(n.a)(e=>(this.selectedId=+e.get("id"),this.service.getCategories())))}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(d),c.Kb(i.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-books-center"]],decls:19,vars:3,consts:[["id","books-center",1,"container-fluid","mt--7"],[1,"card","card-profile","shadow",2,"background-color","#f0f8ff"],[1,"row","justify-content-center"],[1,"card-body"],[1,"row","d-flex","align-items-start"],[1,"col-xl-2","order-xl-1","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"card-body","pt-0","pt-md-4"],[1,"row"],[1,"col"],[1,"card-profile-stats","d-flex","justify-content-center","mt-md-5"],[1,"text-left",2,"list-style-type","none"],["class","text",4,"ngFor","ngForOf"],[1,"col-xl-10","order-xl-2"],[1,"text"],["width","30","height","30","alt","browse Music books",3,"src"],[3,"routerLink"],[1,"btn","btn-success","btn-round","mr-1"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"div",5),c.Pb(6,"div",6),c.Pb(7,"div",7),c.Pb(8,"h3"),c.Cc(9," Books category"),c.Ob(),c.Ob(),c.Pb(10,"div",8),c.Pb(11,"div",9),c.Pb(12,"div",10),c.Pb(13,"div",11),c.Pb(14,"ul",12),c.Ac(15,p,6,5,"li",13),c.dc(16,"async"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(17,"div",14),c.Lb(18,"router-outlet"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.xb(15),c.jc("ngForOf",c.ec(16,1,t.categories$)))},directives:[r.t,i.h,i.f],pipes:[r.b],styles:[""]}),e})();function h(e,t){if(1&e&&(c.Pb(0,"th"),c.Cc(1),c.Ob()),2&e){const e=t.$implicit;c.xb(1),c.Dc(e)}}const m=function(e){return["./book",e]};function f(e,t){if(1&e&&(c.Pb(0,"td",13),c.Pb(1,"a",14),c.Cc(2),c.Ob(),c.Ob()),2&e){const e=t.$implicit,o=c.cc().$implicit;c.xb(1),c.jc("routerLink",c.nc(2,m,o.isbn)),c.xb(1),c.Ec(" ",o[e]," ")}}function O(e,t){if(1&e&&(c.Pb(0,"tr"),c.Ac(1,f,3,4,"td",12),c.Ob()),2&e){const e=c.cc();c.xb(1),c.jc("ngForOf",e.objectKeys(e.booklist[0]))}}let v=(()=>{class e{constructor(e,t){this.route=e,this.router=t,this.objectKeys=Object.keys}ngOnInit(){document.getElementById("books-list").scrollIntoView(),this.route.data.subscribe(e=>{console.log(e.list),this.booklist=e.list}),this.pageSize=10,this.page=1}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(i.a),c.Kb(i.c))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-books-list"]],decls:19,vars:13,consts:[["id","books-list"],[1,"row","d-flex","align-items-start"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"card-body","pt-0","pt-md-4"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"card-footer","py-4"],[3,"page","pageSize","collectionSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],[3,"routerLink"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h3"),c.Cc(6," Books List"),c.Ob(),c.Ob(),c.Pb(7,"div",5),c.Pb(8,"div",6),c.Pb(9,"table",7),c.Pb(10,"thead",8),c.Pb(11,"tr"),c.Ac(12,h,2,1,"th",9),c.Ob(),c.Ob(),c.Pb(13,"tbody"),c.Ac(14,O,2,1,"tr",9),c.dc(15,"slice"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(16,"div",10),c.Pb(17,"ngb-pagination",11),c.ac("pageChange",(function(e){return t.page=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Lb(18,"router-outlet"),c.Ob()),2&e&&(c.xb(12),c.jc("ngForOf",t.objectKeys(t.booklist[0])),c.xb(2),c.jc("ngForOf",c.gc(15,9,t.booklist,(t.page-1)*t.pageSize,t.page*t.pageSize)),c.xb(3),c.jc("page",t.page)("pageSize",t.pageSize)("collectionSize",t.booklist.length)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0))},directives:[r.t,s.h,i.h,i.f],pipes:[r.F],styles:[""]}),e})(),k=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-books-list-home"]],decls:2,vars:0,template:function(e,t){1&e&&(c.Pb(0,"p"),c.Cc(1,"Please select category!"),c.Ob())},styles:[""]}),e})(),y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-book-detail-home"]],decls:2,vars:0,template:function(e,t){1&e&&(c.Pb(0,"p"),c.Cc(1,"Please select book!"),c.Ob())},styles:[""]}),e})();var P=o("tk/3");function x(e,t){if(1&e&&c.Lb(0,"img",11),2&e){const e=c.cc();c.jc("src",e.imageToShow,c.uc)}}function I(e,t){1&e&&c.Lb(0,"img",12)}let w=(()=>{class e{constructor(e,t,o){this.route=e,this.router=t,this.http=o,this.myImageUrl="assets/img/",this.isImageLoading=!1}ngOnInit(){document.getElementById("book-detail").scrollIntoView(),this.route.data.subscribe(e=>{console.log(e.book),this.book=e.book,console.log(this.book.isbn),this.getImageFromService(this.myImageUrl+this.book.isbn+".jpg")})}createImageFromBlob(e){let t=new FileReader;t.addEventListener("load",()=>{this.imageToShow=t.result},!1),e&&t.readAsDataURL(e)}getImageFromService(e){console.log(e),this.isImageLoading=!0,this.getImage(e).subscribe(e=>{this.createImageFromBlob(e),this.isImageLoading=!1},e=>{this.isImageLoading=!1,console.log(e)})}getImage(e){return this.http.get(e,{responseType:"blob"})}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(i.a),c.Kb(i.c),c.Kb(P.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-book-detail"]],decls:25,vars:6,consts:[["id","book-detail"],[1,"card","card-profile","shadow"],[1,"card-body","pt-0","pt-md-4"],[1,"row","d-flex","justify-content-left"],[1,"col-xl-4","order-xl-1","mb-5","mb-xl-0"],["alt","Place image title","class","img-rounded img-responsive",3,"src",4,"ngIf","ngIfElse"],["noImageFound",""],[1,"img-details"],[1,"col-xl-6","order-xl-2","mb-5","mb-xl-0"],[1,"text-left",2,"list-style-type","none"],[1,"card-text"],["alt","Place image title",1,"img-rounded","img-responsive",3,"src"],["src","assets/img/placeholder.jpg","alt","placeholder"]],template:function(e,t){if(1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Ac(5,x,1,1,"img",5),c.Ac(6,I,1,0,"ng-template",null,6,c.Bc),c.Pb(8,"div",7),c.Pb(9,"p"),c.Cc(10),c.Ob(),c.Ob(),c.Ob(),c.Pb(11,"div",8),c.Pb(12,"ul",9),c.Pb(13,"h3"),c.Cc(14,"author:"),c.Ob(),c.Pb(15,"p",10),c.Cc(16),c.Ob(),c.Pb(17,"h3"),c.Cc(18,"publishing house:"),c.Ob(),c.Pb(19,"p",10),c.Cc(20),c.Ob(),c.Pb(21,"h3"),c.Cc(22,"Book Description:"),c.Ob(),c.Pb(23,"p",10),c.Cc(24),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.rc(7);c.xb(5),c.jc("ngIf",!t.isImageLoading)("ngIfElse",e),c.xb(5),c.Dc(t.book.title),c.xb(6),c.Dc(t.book.author),c.xb(4),c.Dc(t.book["publishing house"]),c.xb(4),c.Dc(t.book.describe)}},directives:[r.u],styles:[""]}),e})();var j=o("z6cu"),C=o("JIr8"),E=o("EY2u"),S=o("IzEk"),L=o("5+tZ"),F=o("vkgz");let B=(()=>{class e{constructor(e,t,o){this.bcs=e,this.router=t,this.http=o,this.ServerUrl="assets/mockdata/",this.httpOptions={headers:new P.d({"Content-Type":"application/json"})}}resolve(e,t){const o=e.paramMap.get("id");return this.bcs.getBooksCategory(o).pipe(Object(S.a)(1),Object(L.a)(e=>e?this.http.get(this.ServerUrl+e.name+".json").pipe(Object(F.a)(e=>{this.booklist=e}),Object(C.a)(this.handleError)):(this.router.navigate(["/books-center"]),E.a)))}handleError(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error(`Backend returned code ${e.status}, body was: `+e.message),this.errorData={errorTitle:"Oops! Request for document failed",errorDesc:"Something bad happened. Please try again later."},Object(j.a)(this.errorData)}getBookbyIsbn(e){if(this.booklist)return this.booklist.find(t=>t.isbn===e)}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(d),c.Xb(i.c),c.Xb(P.b))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const D=i.g.forChild([{path:"",component:u,children:[{path:"categroy/:id",component:v,resolve:{list:B},children:[{path:"book/:isbn",component:w,resolve:{book:(()=>{class e{constructor(e,t,o){this.bls=e,this.router=t,this.http=o,this.ServerUrl="assets/mockdata/",this.httpOptions={headers:new P.d({"Content-Type":"application/json"})}}resolve(e,t){const o=e.paramMap.get("isbn"),s=this.bls.getBookbyIsbn(o);return s?this.http.get(this.ServerUrl+s.isbn+".json").pipe(Object(C.a)(this.handleError)):(this.router.navigate(["/books-center"]),E.a)}handleError(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error(`Backend returned code ${e.status}, body was: `+e.message),this.errorData={errorTitle:"Oops! Request for document failed",errorDesc:"Something bad happened. Please try again later."},Object(j.a)(this.errorData)}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(B),c.Xb(i.c),c.Xb(P.b))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}},{path:"",component:y}]},{path:"",component:k}]}]);let z=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[r.c,D,s.f]]}),e})()}}]);