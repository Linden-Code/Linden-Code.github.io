!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Tg0j:function(t,n,i){"use strict";i.r(n),i.d(n,"BooksCenterModule",(function(){return G}));var r,s=i("1kSV"),c=i("ofXK"),a=i("tyNb"),b=i("eIep"),l=i("fXoL"),u=i("2Vo4"),d=i("lJxs"),g=[{id:1,name:"Kids",icon:"./assets/img/categories/boy.svg"},{id:2,name:"Science",icon:"./assets/img/categories/atom.svg"},{id:3,name:"Art",icon:"./assets/img/categories/paint-palette.svg"},{id:4,name:"Education",icon:"./assets/img/categories/global-education.svg"},{id:5,name:"Romance",icon:"./assets/img/categories/rose.svg"},{id:6,name:"Life",icon:"./assets/img/categories/tree-of-life.svg"},{id:7,name:"Fiction",icon:"./assets/img/categories/ufo.svg"},{id:8,name:"History",icon:"./assets/img/categories/history.svg"},{id:9,name:"Fantasy",icon:"./assets/img/categories/fantasy.svg"},{id:10,name:"Philosophie",icon:"./assets/img/categories/yin-yang.svg"}],p=((r=function(){function t(){e(this,t),this.bookcategories$=new u.a(g)}return o(t,[{key:"getCategories",value:function(){return this.bookcategories$}},{key:"getBooksCategory",value:function(e){return this.getCategories().pipe(Object(d.a)((function(t){return t.find((function(t){return t.id===+e}))})))}}]),t}()).nextCrisisId=100,r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=l.Gb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),f=function(e){return["./categroy",e]};function m(e,t){if(1&e&&(l.Pb(0,"li",15),l.Pb(1,"div",9),l.Lb(2,"img",16),l.Pb(3,"a",17),l.Pb(4,"button",18),l.Cc(5),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e){var o=t.$implicit;l.xb(2),l.kc("src",o.icon,l.uc),l.xb(1),l.jc("routerLink",l.nc(3,f,o.id)),l.xb(2),l.Dc(o.name)}}var h,v=((h=function(){function t(o,n){e(this,t),this.service=o,this.route=n}return o(t,[{key:"ngOnInit",value:function(){var e=this;document.getElementById("books-center").scrollIntoView(),this.categories$=this.route.paramMap.pipe(Object(b.a)((function(t){return e.selectedId=+t.get("id"),e.service.getCategories()})))}}]),t}()).\u0275fac=function(e){return new(e||h)(l.Kb(p),l.Kb(a.a))},h.\u0275cmp=l.Eb({type:h,selectors:[["app-books-center"]],decls:19,vars:3,consts:[["id","books-center",1,"container-fluid","mt--7"],[1,"card","card-profile","shadow",2,"background-color","#f0f8ff"],[1,"row","justify-content-center"],[1,"card-body"],[1,"row","d-flex","align-items-start"],[1,"col-xl-2","order-xl-1","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"card-body","pt-0","pt-md-4"],[1,"row"],[1,"col"],[1,"card-profile-stats","d-flex","justify-content-center","mt-md-5"],[1,"text-left",2,"list-style-type","none"],["class","text",4,"ngFor","ngForOf"],[1,"col-xl-10","order-xl-2"],[1,"text"],["width","30","height","30","alt","browse Music books",3,"src"],[3,"routerLink"],[1,"btn","btn-success","btn-round","mr-1"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Pb(3,"div",3),l.Pb(4,"div",4),l.Pb(5,"div",5),l.Pb(6,"div",6),l.Pb(7,"div",7),l.Pb(8,"h3"),l.Cc(9," Books category"),l.Ob(),l.Ob(),l.Pb(10,"div",8),l.Pb(11,"div",9),l.Pb(12,"div",10),l.Pb(13,"div",11),l.Pb(14,"ul",12),l.Ac(15,m,6,5,"li",13),l.dc(16,"async"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(17,"div",14),l.Lb(18,"router-outlet"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e&&(l.xb(15),l.jc("ngForOf",l.ec(16,1,t.categories$)))},directives:[c.t,a.h,a.f],pipes:[c.b],styles:[""]}),h);function k(e,t){if(1&e&&(l.Pb(0,"th"),l.Cc(1),l.Ob()),2&e){var o=t.$implicit;l.xb(1),l.Dc(o)}}var y=function(e){return["./book",e]};function O(e,t){if(1&e&&(l.Pb(0,"td",13),l.Pb(1,"a",14),l.Cc(2),l.Ob(),l.Ob()),2&e){var o=t.$implicit,n=l.cc().$implicit;l.xb(1),l.jc("routerLink",l.nc(2,y,n.isbn)),l.xb(1),l.Ec(" ",n[o]," ")}}function P(e,t){if(1&e&&(l.Pb(0,"tr"),l.Ac(1,O,3,4,"td",12),l.Ob()),2&e){var o=l.cc();l.xb(1),l.jc("ngForOf",o.objectKeys(o.booklist[0]))}}var x,w,I,j=((I=function(){function t(o,n){e(this,t),this.route=o,this.router=n,this.objectKeys=Object.keys}return o(t,[{key:"ngOnInit",value:function(){var e=this;document.getElementById("books-list").scrollIntoView(),this.route.data.subscribe((function(t){console.log(t.list),e.booklist=t.list})),this.pageSize=10,this.page=1}}]),t}()).\u0275fac=function(e){return new(e||I)(l.Kb(a.a),l.Kb(a.c))},I.\u0275cmp=l.Eb({type:I,selectors:[["app-books-list"]],decls:19,vars:13,consts:[["id","books-list"],[1,"row","d-flex","align-items-start"],[1,"col-xl-12","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"card-body","pt-0","pt-md-4"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"card-footer","py-4"],[3,"page","pageSize","collectionSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"col-md-2"],[3,"routerLink"]],template:function(e,t){1&e&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Pb(3,"div",3),l.Pb(4,"div",4),l.Pb(5,"h3"),l.Cc(6," Books List"),l.Ob(),l.Ob(),l.Pb(7,"div",5),l.Pb(8,"div",6),l.Pb(9,"table",7),l.Pb(10,"thead",8),l.Pb(11,"tr"),l.Ac(12,k,2,1,"th",9),l.Ob(),l.Ob(),l.Pb(13,"tbody"),l.Ac(14,P,2,1,"tr",9),l.dc(15,"slice"),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(16,"div",10),l.Pb(17,"ngb-pagination",11),l.ac("pageChange",(function(e){return t.page=e})),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Lb(18,"router-outlet"),l.Ob()),2&e&&(l.xb(12),l.jc("ngForOf",t.objectKeys(t.booklist[0])),l.xb(2),l.jc("ngForOf",l.gc(15,9,t.booklist,(t.page-1)*t.pageSize,t.page*t.pageSize)),l.xb(3),l.jc("page",t.page)("pageSize",t.pageSize)("collectionSize",t.booklist.length)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0))},directives:[c.t,s.h,a.h,a.f],pipes:[c.F],styles:[""]}),I),C=((w=function(){function t(){e(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||w)},w.\u0275cmp=l.Eb({type:w,selectors:[["app-books-list-home"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Pb(0,"p"),l.Cc(1,"Please select category!"),l.Ob())},styles:[""]}),w),E=((x=function(){function t(){e(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=l.Eb({type:x,selectors:[["app-book-detail-home"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Pb(0,"p"),l.Cc(1,"Please select book!"),l.Ob())},styles:[""]}),x),S=i("tk/3");function L(e,t){if(1&e&&l.Lb(0,"img",11),2&e){var o=l.cc();l.jc("src",o.imageToShow,l.uc)}}function F(e,t){1&e&&l.Lb(0,"img",12)}var B,D,z,K,A=((B=function(){function t(o,n,i){e(this,t),this.route=o,this.router=n,this.http=i,this.myImageUrl="assets/img/",this.isImageLoading=!1}return o(t,[{key:"ngOnInit",value:function(){var e=this;document.getElementById("book-detail").scrollIntoView(),this.route.data.subscribe((function(t){console.log(t.book),e.book=t.book,console.log(e.book.isbn),e.getImageFromService(e.myImageUrl+e.book.isbn+".jpg")}))}},{key:"createImageFromBlob",value:function(e){var t=this,o=new FileReader;o.addEventListener("load",(function(){t.imageToShow=o.result}),!1),e&&o.readAsDataURL(e)}},{key:"getImageFromService",value:function(e){var t=this;console.log(e),this.isImageLoading=!0,this.getImage(e).subscribe((function(e){t.createImageFromBlob(e),t.isImageLoading=!1}),(function(e){t.isImageLoading=!1,console.log(e)}))}},{key:"getImage",value:function(e){return this.http.get(e,{responseType:"blob"})}}]),t}()).\u0275fac=function(e){return new(e||B)(l.Kb(a.a),l.Kb(a.c),l.Kb(S.b))},B.\u0275cmp=l.Eb({type:B,selectors:[["app-book-detail"]],decls:25,vars:6,consts:[["id","book-detail"],[1,"card","card-profile","shadow"],[1,"card-body","pt-0","pt-md-4"],[1,"row","d-flex","justify-content-left"],[1,"col-xl-4","order-xl-1","mb-5","mb-xl-0"],["alt","Place image title","class","img-rounded img-responsive",3,"src",4,"ngIf","ngIfElse"],["noImageFound",""],[1,"img-details"],[1,"col-xl-6","order-xl-2","mb-5","mb-xl-0"],[1,"text-left",2,"list-style-type","none"],[1,"card-text"],["alt","Place image title",1,"img-rounded","img-responsive",3,"src"],["src","assets/img/placeholder.jpg","alt","placeholder"]],template:function(e,t){if(1&e&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Pb(3,"div",3),l.Pb(4,"div",4),l.Ac(5,L,1,1,"img",5),l.Ac(6,F,1,0,"ng-template",null,6,l.Bc),l.Pb(8,"div",7),l.Pb(9,"p"),l.Cc(10),l.Ob(),l.Ob(),l.Ob(),l.Pb(11,"div",8),l.Pb(12,"ul",9),l.Pb(13,"h3"),l.Cc(14,"author:"),l.Ob(),l.Pb(15,"p",10),l.Cc(16),l.Ob(),l.Pb(17,"h3"),l.Cc(18,"publishing house:"),l.Ob(),l.Pb(19,"p",10),l.Cc(20),l.Ob(),l.Pb(21,"h3"),l.Cc(22,"Book Description:"),l.Ob(),l.Pb(23,"p",10),l.Cc(24),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob()),2&e){var o=l.rc(7);l.xb(5),l.jc("ngIf",!t.isImageLoading)("ngIfElse",o),l.xb(5),l.Dc(t.book.title),l.xb(6),l.Dc(t.book.author),l.xb(4),l.Dc(t.book["publishing house"]),l.xb(4),l.Dc(t.book.describe)}},directives:[c.u],styles:[""]}),B),T=i("z6cu"),X=i("JIr8"),$=i("EY2u"),U=i("IzEk"),M=i("5+tZ"),R=i("vkgz"),V=((D=function(){function t(o,n,i){e(this,t),this.bcs=o,this.router=n,this.http=i,this.ServerUrl="assets/mockdata/",this.httpOptions={headers:new S.d({"Content-Type":"application/json"})}}return o(t,[{key:"resolve",value:function(e,t){var o=this,n=e.paramMap.get("id");return this.bcs.getBooksCategory(n).pipe(Object(U.a)(1),Object(M.a)((function(e){return e?o.http.get(o.ServerUrl+e.name+".json").pipe(Object(R.a)((function(e){o.booklist=e})),Object(X.a)(o.handleError)):(o.router.navigate(["/books-center"]),$.a)})))}},{key:"handleError",value:function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", body was: ")+e.message),this.errorData={errorTitle:"Oops! Request for document failed",errorDesc:"Something bad happened. Please try again later."},Object(T.a)(this.errorData)}},{key:"getBookbyIsbn",value:function(e){if(this.booklist)return this.booklist.find((function(t){return t.isbn===e}))}}]),t}()).\u0275fac=function(e){return new(e||D)(l.Xb(p),l.Xb(a.c),l.Xb(S.b))},D.\u0275prov=l.Gb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),J=a.g.forChild([{path:"",component:v,children:[{path:"categroy/:id",component:j,resolve:{list:V},children:[{path:"book/:isbn",component:A,resolve:{book:(z=function(){function t(o,n,i){e(this,t),this.bls=o,this.router=n,this.http=i,this.ServerUrl="assets/mockdata/",this.httpOptions={headers:new S.d({"Content-Type":"application/json"})}}return o(t,[{key:"resolve",value:function(e,t){var o=e.paramMap.get("isbn"),n=this.bls.getBookbyIsbn(o);return n?this.http.get(this.ServerUrl+n.isbn+".json").pipe(Object(X.a)(this.handleError)):(this.router.navigate(["/books-center"]),$.a)}},{key:"handleError",value:function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", body was: ")+e.message),this.errorData={errorTitle:"Oops! Request for document failed",errorDesc:"Something bad happened. Please try again later."},Object(T.a)(this.errorData)}}]),t}(),z.\u0275fac=function(e){return new(e||z)(l.Xb(V),l.Xb(a.c),l.Xb(S.b))},z.\u0275prov=l.Gb({token:z,factory:z.\u0275fac,providedIn:"root"}),z)}},{path:"",component:E}]},{path:"",component:C}]}]),G=((K=function t(){e(this,t)}).\u0275mod=l.Ib({type:K}),K.\u0275inj=l.Hb({factory:function(e){return new(e||K)},imports:[[c.c,J,s.f]]}),K)}}])}();